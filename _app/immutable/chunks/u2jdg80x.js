var H=Object.defineProperty;var M=t=>{throw TypeError(t)};var Z=(t,e,s)=>e in t?H(t,e,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[e]=s;var B=(t,e,s)=>Z(t,typeof e!="symbol"?e+"":e,s),N=(t,e,s)=>e.has(t)||M("Cannot "+s);var r=(t,e,s)=>(N(t,e,"read from private field"),s?s.call(t):e.get(t)),b=(t,e,s)=>e.has(t)?M("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,s),k=(t,e,s,i)=>(N(t,e,"write to private field"),i?i.call(t,s):e.set(t,s),s);import{q as m,v as J,w,x as K,y as Y,z as x,A as O,B as Q,C as V,D as W,E as X,F as j,G as ee,H as te,I as se,J as ae,K as re,L as F,M as ie,N as fe,b as U,O as ne,S as q,P as ce,Q as de,R as ue,g as p,T as he,U as _e,V as le,W as ve,f as oe,X as be,Y as ge,Z as Se,_ as Pe,$ as Ee,a0 as Ae,a1 as Re,a2 as Te}from"./GV9oIMIc.js";var l,_,h,E,A;class Ie{constructor(e,s=!0){B(this,"anchor");b(this,l,new Map);b(this,_,new Map);b(this,h,new Map);b(this,E,!0);b(this,A,()=>{var e=m;if(r(this,l).has(e)){var s=r(this,l).get(e),i=r(this,_).get(s);if(i)J(i);else{var f=r(this,h).get(s);f&&(r(this,_).set(s,f.effect),r(this,h).delete(s),f.fragment.lastChild.remove(),this.anchor.before(f.fragment),i=f.effect)}for(const[a,c]of r(this,l)){if(r(this,l).delete(a),a===e)break;const n=r(this,h).get(c);n&&(w(n.effect),r(this,h).delete(c))}for(const[a,c]of r(this,_)){if(a===s)continue;const n=()=>{if(Array.from(r(this,l).values()).includes(a)){var v=document.createDocumentFragment();V(c,v),v.append(Y()),r(this,h).set(a,{effect:c,fragment:v})}else w(c);r(this,_).delete(a)};r(this,E)||!i?K(c,n,!1):n()}}});this.anchor=e,k(this,E,s)}ensure(e,s){var i=m,f=W();if(s&&!r(this,_).has(e)&&!r(this,h).has(e))if(f){var a=document.createDocumentFragment(),c=Y();a.append(c),r(this,h).set(e,{effect:x(()=>s(c)),fragment:a})}else r(this,_).set(e,x(()=>s(this.anchor)));if(r(this,l).set(i,e),f){for(const[n,d]of r(this,_))n===e?i.skipped_effects.delete(d):i.skipped_effects.add(d);for(const[n,d]of r(this,h))n===e?i.skipped_effects.delete(d.effect):i.skipped_effects.add(d.effect);i.add_callback(r(this,A))}else O&&(this.anchor=Q),r(this,A).call(this)}}l=new WeakMap,_=new WeakMap,h=new WeakMap,E=new WeakMap,A=new WeakMap;function De(t,e,s=!1){O&&X();var i=new Ie(t),f=s?ee:0;function a(c,n){if(O){const v=te(t)===se;if(c===v){var d=ae();re(d),i.anchor=d,F(!1),i.ensure(c,n),F(!0);return}}i.ensure(c,n)}j(()=>{var c=!1;e((n,d=!0)=>{c=!0,a(d,n)}),c||a(!1,null)},f)}function C(t,e){return t===e||(t==null?void 0:t[q])===e}function Le(t={},e,s,i){return ie(()=>{var f,a;return fe(()=>{f=a,a=[],U(()=>{t!==s(...a)&&(e(t,...a),f&&C(s(...f),t)&&e(null,...f))})}),()=>{ne(()=>{a&&C(s(...a),t)&&e(null,...a)})}}),t}let T=!1;function pe(t){var e=T;try{return T=!1,[t(),T]}finally{T=e}}function Me(t,e,s,i){var D;var f=!Se||(s&Pe)!==0,a=(s&ge)!==0,c=(s&Ae)!==0,n=i,d=!0,v=()=>(d&&(d=!1,n=c?U(i):i),n),g;if(a){var $=q in t||Te in t;g=((D=ce(t,e))==null?void 0:D.set)??($&&e in t?u=>t[e]=u:void 0)}var S,y=!1;a?[S,y]=pe(()=>t[e]):S=t[e],S===void 0&&i!==void 0&&(S=v(),g&&(f&&de(),g(S)));var o;if(f?o=()=>{var u=t[e];return u===void 0?v():(d=!0,u)}:o=()=>{var u=t[e];return u!==void 0&&(n=void 0),u===void 0?n:u},f&&(s&ue)===0)return o;if(g){var z=t.$$legacy;return(function(u,R){return arguments.length>0?((!f||!R||z||y)&&g(R?o():u),u):o()})}var I=!1,P=((s&Ee)!==0?oe:be)(()=>(I=!1,o()));a&&p(P);var G=le;return(function(u,R){if(arguments.length>0){const L=R?p(P):f&&a?he(u):u;return _e(P,L),I=!0,n!==void 0&&(n=L),u}return Re&&I||(G.f&ve)!==0?P.v:p(P)})}export{Ie as B,Le as b,De as i,Me as p};
